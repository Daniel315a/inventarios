{"ast":null,"code":"import { HttpParams } from \"@angular/common/http\";\nimport { environment } from \"src/environments/environment\";\nimport { Utilidades } from \"../models/utilidades\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let PrestamoService = /*#__PURE__*/(() => {\n  class PrestamoService {\n    constructor(_http) {\n      this._http = _http;\n      this.url = environment.url + 'Prestamo';\n    }\n\n    consultarListado() {\n      const usuario = Utilidades.obtenerUsuario();\n      const parametros = new HttpParams().set('token', usuario.token).set('solicitud', 'consultar_por_empresa').set('empresa', usuario.empresa.id);\n      return this._http.get(this.url, {\n        params: parametros\n      });\n    }\n\n    consultarPorId(id) {\n      const usuario = Utilidades.obtenerUsuario();\n      const parametros = new HttpParams().set('token', usuario.token).set('solicitud', 'consultar_por_id').set('id', id.toString());\n      return this._http.get(this.url, {\n        params: parametros\n      });\n    }\n\n    crear(prestamo) {\n      const usuario = Utilidades.obtenerUsuario();\n      Utilidades.trim(prestamo);\n      const detalles = JSON.stringify(prestamo.detalles);\n      const parametros = new HttpParams().set('token', usuario.token).set('solicitud', 'crear').set('distribuidor', prestamo.distribuidor.id.toString()).set('empleado', prestamo.encargado.id.toString()).set('fecha_prestamo', prestamo.fecha).set('notas', prestamo.notas).set('detalles', detalles);\n      return this._http.post(this.url, parametros);\n    }\n\n    crearDetalle(idPrestamo, detalleActual) {\n      const usuario = Utilidades.obtenerUsuario();\n      Utilidades.trim(detalleActual);\n      const parametros = new HttpParams().set('token', usuario.token).set('solicitud', 'crear_detalle').set('id_prestamo', idPrestamo.toString()).set('id_producto', detalleActual.producto.id.toString()).set('cantidad', detalleActual.cantidad.toString());\n      return this._http.post(this.url, parametros);\n    }\n\n    actualizar(prestamo) {\n      const usuario = Utilidades.obtenerUsuario();\n      Utilidades.trim(prestamo);\n      const parametros = new HttpParams().set('token', usuario.token).set('solicitud', 'actualizar').set('id', prestamo.id.toString()).set('id_distribuidor', prestamo.distribuidor.id.toString()).set('id_empleado', prestamo.encargado.id.toString()).set('fecha_devolucion', prestamo.fechaEntrega).set('notas', prestamo.notas);\n      return this._http.post(this.url, parametros);\n    }\n\n    eliminarDetalle(id) {\n      const usuario = Utilidades.obtenerUsuario();\n      const parametros = new HttpParams().set('token', usuario.token).set('solicitud', 'eliminar_detalle').set('id', id.toString());\n      return this._http.post(this.url, parametros);\n    }\n\n    eliminar(id) {\n      const usuario = Utilidades.obtenerUsuario();\n      const parametros = new HttpParams().set('token', usuario.token).set('solicitud', 'eliminar').set('id', id.toString());\n      return this._http.post(this.url, parametros);\n    }\n\n  }\n\n  PrestamoService.ɵfac = function PrestamoService_Factory(t) {\n    return new (t || PrestamoService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  PrestamoService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: PrestamoService,\n    factory: PrestamoService.ɵfac\n  });\n  return PrestamoService;\n})();","map":null,"metadata":{},"sourceType":"module"}