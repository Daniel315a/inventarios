{"ast":null,"code":"import { Usuario } from 'src/app/models/usuario';\nimport { Utilidades } from 'src/app/models/utilidades';\nimport { UsuarioService } from 'src/app/services/usuario.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/usuario.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\n\nfunction LoginComponent_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.mensaje, \" \");\n  }\n}\n\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(_usuarioService) {\n      this._usuarioService = _usuarioService;\n      this.usuario = '';\n      this.contrasenna = '';\n      /**\n       * Propiedades del diseño\n       */\n\n      this.mensaje = '';\n      this.labels = {\n        usuario: 'Usuario',\n        contrasenna: 'Contraseña',\n        mensajeLogin: 'Inicio de sesión'\n      };\n      this.botones = {\n        login: 'Ingresar'\n      };\n      this.mensajes = {\n        loginIncorrecto: 'Usuario y contraseña incorrectos'\n      };\n    }\n\n    ngOnInit() {}\n\n    login() {\n      this._usuarioService.login(this.usuario, this.contrasenna).subscribe(result => {\n        if (result.resultado) {\n          let usuario = new Usuario();\n          usuario.inicializar(result.datos);\n          Utilidades.establecerUsuario(usuario);\n          window.location.reload();\n        } else {\n          this.mensaje = this.mensajes.loginIncorrecto;\n          setTimeout(() => {\n            this.mensaje = '';\n          }, 3000);\n        }\n      });\n    }\n\n    keyupContrasenna(key) {\n      if (key == 'Enter') {\n        this.login();\n      }\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.UsuarioService));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    features: [i0.ɵɵProvidersFeature([UsuarioService])],\n    decls: 23,\n    vars: 7,\n    consts: [[1, \"columns\", \"columns-form-login\"], [1, \"column\", \"is-two-fifths\"], [1, \"column\"], [1, \"box\", \"div-form-login\"], [1, \"title\", \"has-text-centered\"], [1, \"field\"], [1, \"control\", \"has-icons-left\"], [\"type\", \"text\", \"name\", \"usuario\", 1, \"input\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\"], [1, \"icon\", \"is-small\", \"is-left\"], [1, \"fas\", \"fa-user\"], [\"type\", \"password\", \"name\", \"contrasenna\", 1, \"input\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\", \"keyup\"], [1, \"fas\", \"fa-lock\"], [\"class\", \"tag is-danger is-light\", 4, \"ngIf\"], [1, \"button\", \"is-primary\", \"is-fullwidth\", 3, \"click\"], [1, \"column\", \"is-one-third\"], [1, \"tag\", \"is-danger\", \"is-light\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"h1\", 4);\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"form\")(7, \"div\", 5)(8, \"div\", 6)(9, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.usuario = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"span\", 8);\n        i0.ɵɵelement(11, \"i\", 9);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(12, \"div\", 5)(13, \"div\", 6)(14, \"input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.contrasenna = $event;\n        })(\"keyup\", function LoginComponent_Template_input_keyup_14_listener($event) {\n          return ctx.keyupContrasenna($event.key);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"span\", 8);\n        i0.ɵɵelement(16, \"i\", 11);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(17, \"div\", 5);\n        i0.ɵɵtemplate(18, LoginComponent_span_18_Template, 2, 1, \"span\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 5)(20, \"a\", 13);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_20_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵtext(21);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelement(22, \"div\", 14);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.labels.mensajeLogin);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.labels.usuario);\n        i0.ɵɵproperty(\"ngModel\", ctx.usuario);\n        i0.ɵɵadvance(5);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.labels.contrasenna);\n        i0.ɵɵproperty(\"ngModel\", ctx.contrasenna);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.mensaje);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", ctx.botones.login, \" \");\n      }\n    },\n    directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i3.NgIf],\n    styles: [\"\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}