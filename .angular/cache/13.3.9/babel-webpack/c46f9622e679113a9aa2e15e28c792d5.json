{"ast":null,"code":"import { DetalleFactura } from 'src/app/models/detalle-factura';\nimport { Factura } from 'src/app/models/factura';\nimport { Utilidades } from 'src/app/models/utilidades';\nimport { FacturaService } from 'src/app/services/factura.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/factura.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../txt-persona/txt-persona.component\";\nimport * as i5 from \"../select-productos/select-productos.component\";\nimport * as i6 from \"@angular/common\";\nconst _c0 = [\"divForm\"];\nconst _c1 = [\"frmFactura\"];\nconst _c2 = [\"txtCliente\"];\nconst _c3 = [\"txtVendedor\"];\nconst _c4 = [\"selectProductos\"];\n\nfunction FacturaComponent_tr_63_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 47);\n    i0.ɵɵlistener(\"click\", function FacturaComponent_tr_63_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const detalle_r7 = restoredCtx.$implicit;\n      const i_r8 = restoredCtx.index;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.detalleSeleccionado(detalle_r7, i_r8);\n    });\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\")(16, \"div\", 48)(17, \"label\", 49)(18, \"input\", 50);\n    i0.ɵɵlistener(\"change\", function FacturaComponent_tr_63_Template_input_change_18_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const detalle_r7 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.establecerDetalleInstalacion(detalle_r7, $event.target.checked);\n    });\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const detalle_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(detalle_r7.cantidad);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(detalle_r7.producto.referencia);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(detalle_r7.descripcion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(detalle_r7.precioUnitario);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(detalle_r7.valorIva);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(detalle_r7.valorDescuento);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(detalle_r7.precioTotal);\n  }\n}\n\nexport let FacturaComponent = /*#__PURE__*/(() => {\n  class FacturaComponent {\n    constructor(route, _facturaService) {\n      this.route = route;\n      this._facturaService = _facturaService;\n      this.factura = new Factura();\n      this.detalleActual = new DetalleFactura();\n      this.tipoPersonaCliente = Utilidades.getTipoCliente();\n      this.tipoPersonaVendedor = Utilidades.getTipoVendedor();\n      this.altoTablaDetalles = 0;\n      this.labels = {\n        fecha: 'Fecha',\n        cliente: 'Cliente',\n        vendedor: 'Vendedor',\n        cantidad: 'Cantidad',\n        detalle: 'Detalle',\n        iva: '% IVA',\n        descuento: '% Dto',\n        esInstalacion: 'Instalación',\n        valorUnitario: 'Precio unitario',\n        comision: 'Porcentaje de comisión',\n        totalDescuento: 'Descuento',\n        totalIva: 'IVA',\n        totalFactura: 'Total',\n        valorComision: 'Comisión'\n      };\n      this.columnas = {\n        cantidad: 'Cantidad',\n        referenciaProducto: 'Producto',\n        descripcion: 'Descripción',\n        valorUnitario: 'Precio unitario',\n        iva: 'IVA',\n        descuento: 'Descuento',\n        valorTotal: 'Precio total',\n        instalacion: 'Instalación'\n      };\n      this.botones = {\n        agregarDetalle: 'Agregar detalle',\n        guardar: 'Guardar',\n        anular: 'Anular'\n      };\n      this.mensajes = {\n        facturaCreada: 'La factura se ha creado correctamente',\n        preguntaAnular: '¿Está seguro de anular la factura? Esta opción no se puede deshacer.',\n        facturaAnulada: 'La factura se ha anulado correctamente'\n      };\n    }\n\n    ngOnInit() {\n      if (this.route.snapshot.queryParams.id != undefined) {\n        this.factura.id = this.route.snapshot.queryParams.id;\n        this.consultarPorId();\n      }\n    }\n\n    ngAfterViewInit() {\n      setTimeout(() => {\n        this.onResize();\n      });\n    }\n\n    onResize() {\n      let altoDivForm = this.divForm.nativeElement.offsetHeight;\n      let altoDivTabla = window.innerHeight - altoDivForm - 220;\n\n      if (altoDivTabla != this.altoTablaDetalles) {\n        this.altoTablaDetalles = altoDivTabla;\n      }\n    }\n\n    productoSeleccionado(producto) {\n      this.detalleActual.producto = producto;\n      this.detalleActual.descripcion = this.detalleActual.producto.referencia + ': ' + this.detalleActual.producto.detalle;\n      this.detalleActual.precioUnitario = this.detalleActual.producto.precio;\n      const inputDetalle = this.frmFactura.nativeElement[\"detalle\"];\n\n      if (inputDetalle) {\n        inputDetalle.focus();\n      }\n    }\n\n    agregarDetalle() {\n      if (this.detalleActual.cantidad > 0 && this.detalleActual.producto.id != 0) {\n        this.calcularTotalesDetalle();\n        this.factura.detalles.push(this.detalleActual);\n        this.limpiarDetalle();\n        this.calcularTotales();\n      }\n    }\n\n    calcularTotalesDetalle() {\n      if (this.detalleActual.porcentajeIva == undefined) {\n        this.detalleActual.porcentajeIva = 0.00;\n      }\n\n      if (this.detalleActual.porcentajeDescuento == undefined) {\n        this.detalleActual.porcentajeDescuento = 0.00;\n      }\n\n      this.detalleActual.precioTotal = this.detalleActual.precioUnitario * this.detalleActual.cantidad;\n      let valorDescuento = this.detalleActual.precioTotal * (this.detalleActual.porcentajeDescuento / 100);\n      this.detalleActual.valorDescuento = Utilidades.redondear(valorDescuento);\n      this.detalleActual.precioTotal -= this.detalleActual.valorDescuento;\n      let valorIva = this.detalleActual.precioTotal * (this.detalleActual.porcentajeIva / 100);\n      this.detalleActual.valorIva = Utilidades.redondear(valorIva);\n      this.detalleActual.precioTotal += this.detalleActual.valorIva;\n    }\n\n    calcularTotales() {\n      let valorTotal = 0;\n      let valorComision = 0;\n      let totalDescuento = 0;\n      let totalIva = 0;\n      let netoComision = 0;\n      this.factura.detalles.forEach(detalle => {\n        valorTotal += detalle.precioTotal;\n        totalDescuento += detalle.valorDescuento;\n        totalIva += detalle.valorIva;\n\n        if (!detalle.esInstalacion) {\n          netoComision += detalle.cantidad * detalle.precioUnitario - detalle.valorDescuento;\n        }\n      });\n      valorComision = netoComision * (this.factura.porcentajeComision / 100);\n      this.factura.valorTotal = Utilidades.redondear(valorTotal);\n      this.factura.totalDescuento = Utilidades.redondear(totalDescuento);\n      this.factura.totalIva = Utilidades.redondear(totalIva);\n      this.factura.valorComision = Utilidades.redondear(valorComision);\n    }\n\n    establecerDetalleInstalacion(detalle, checked) {\n      detalle.esInstalacion = checked;\n      this.calcularTotales();\n    }\n\n    crear() {\n      this._facturaService.crear(this.factura).subscribe(result => {\n        if (result.resultado) {\n          this.limpiarCampos();\n          Utilidades.dialogSuccess(this.mensajes.facturaCreada);\n        }\n      });\n    }\n\n    limpiarCampos() {\n      this.factura = new Factura();\n      this.txtCliente.nombrePersona = '';\n      this.txtVendedor.nombrePersona = '';\n      this.txtCliente.consultarPersonaPorNumeroDocumento();\n      this.txtVendedor.consultarPersonaPorNumeroDocumento();\n    }\n\n    consultarPorId() {\n      this._facturaService.consultarPorId(this.factura.id).subscribe(result => {\n        if (result.resultado) {\n          this.factura = new Factura();\n          this.factura.inicializar(result.datos);\n          this.txtCliente.persona = this.factura.cliente;\n          this.txtVendedor.persona = this.factura.vendedor;\n          this.txtCliente.consultarPersonaPorNumeroDocumento();\n          this.txtVendedor.consultarPersonaPorNumeroDocumento();\n        }\n      });\n    }\n\n    anularFactura() {\n      Utilidades.dialogPregunta('', this.mensajes.preguntaAnular, 'Sí, anular').then(result => {\n        this._facturaService.anular(this.factura.id).subscribe(result => {\n          if (result.resultado) {\n            Utilidades.dialogSuccess(this.mensajes.facturaAnulada);\n          }\n        });\n      });\n    }\n\n    vendedorSeleccionado(vendedor) {\n      this.factura.vendedor = vendedor;\n    }\n\n    clienteSeleccionado(cliente) {\n      this.factura.cliente = cliente;\n    }\n\n    detalleSeleccionado(detalle, indiceDetalle) {\n      if (this.detalleActual.producto.referencia == '' && this.factura.id == 0) {\n        this.detalleActual = detalle;\n        this.factura.detalles.splice(indiceDetalle, 1);\n        this.calcularTotales();\n      }\n    }\n\n    limpiarDetalle() {\n      this.detalleActual = new DetalleFactura();\n      this.selectProductos.filtroProducto = '';\n    }\n\n  }\n\n  FacturaComponent.ɵfac = function FacturaComponent_Factory(t) {\n    return new (t || FacturaComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.FacturaService));\n  };\n\n  FacturaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FacturaComponent,\n    selectors: [[\"app-factura\"]],\n    viewQuery: function FacturaComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n        i0.ɵɵviewQuery(_c2, 5);\n        i0.ɵɵviewQuery(_c3, 5);\n        i0.ɵɵviewQuery(_c4, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.divForm = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.frmFactura = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.txtCliente = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.txtVendedor = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.selectProductos = _t.first);\n      }\n    },\n    hostBindings: function FacturaComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"resize\", function FacturaComponent_resize_HostBindingHandler($event) {\n          return ctx.onResize($event);\n        }, false, i0.ɵɵresolveWindow);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([FacturaService])],\n    decls: 112,\n    vars: 42,\n    consts: [[1, \"form-filtros\"], [\"divForm\", \"\"], [\"autocomplete\", \"off\", 3, \"keydown.enter\"], [\"frmFactura\", \"\"], [1, \"field\", \"is-horizontal\"], [1, \"field-label\", \"is-normal\"], [1, \"level-left\"], [1, \"field-body\"], [1, \"control\"], [\"type\", \"date\", \"name\", \"fecha\", 1, \"input\", 3, \"ngModel\", \"ngModelChange\"], [3, \"labelPersona\", \"persona\", \"personaSeleccionada\"], [\"txtCliente\", \"\"], [3, \"labelPersona\", \"tipoPersona\", \"persona\", \"personaSeleccionada\"], [\"txtVendedor\", \"\"], [\"type\", \"number\", \"name\", \"porcentajeComision\", 1, \"input\", 3, \"ngModel\", \"ngModelChange\", \"blur\"], [1, \"box\"], [1, \"field\", \"is-grouped\"], [1, \"control\", \"txt-pequenno\"], [\"type\", \"number\", \"name\", \"cantidad\", 1, \"input\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\"], [3, \"productoSeleccionado\"], [\"selectProductos\", \"\"], [1, \"control\", \"is-expanded\"], [\"type\", \"text\", \"name\", \"detalle\", 1, \"input\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"iva\", 1, \"input\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"descuento\", 1, \"input\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\"], [1, \"control\", \"txt-valor\"], [\"type\", \"number\", \"name\", \"valorUnitario\", 1, \"input\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\"], [1, \"button\", \"is-primary\", 3, \"click\", \"keydown.enter\"], [1, \"icon\", \"is-small\"], [1, \"fas\", \"fa-plus\"], [1, \"div-tabla\", \"is-size-7\"], [\"divTablaDetalles\", \"\"], [1, \"table\", \"is-fullwidth\", \"is-bordered\"], [\"width\", \"5%\"], [\"width\", \"8%\"], [\"width\", \"10%\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"field\", \"is-grouped\", \"is-grouped-right\"], [\"type\", \"text\", \"name\", \"totalDescuento\", \"disabled\", \"\", 1, \"input\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"totalIva\", \"disabled\", \"\", 1, \"input\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"totalFactura\", \"disabled\", \"\", 1, \"input\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"comision\", \"disabled\", \"\", 1, \"input\", 3, \"ngModel\", \"ngModelChange\"], [1, \"button\", \"is-danger\", 3, \"disabled\", \"click\"], [1, \"button\", \"is-primary\", 3, \"disabled\", \"click\"], [1, \"button\", 3, \"click\"], [1, \"icon\", \"is-small\", \"has-text-primary\"], [1, \"fas\", \"fa-eraser\"], [3, \"click\"], [1, \"has-text-centered\"], [1, \"checkbox\"], [\"type\", \"checkbox\", 3, \"change\"]],\n    template: function FacturaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0, 1)(2, \"form\", 2, 3);\n        i0.ɵɵlistener(\"keydown.enter\", function FacturaComponent_Template_form_keydown_enter_2_listener($event) {\n          return $event.preventDefault();\n        });\n        i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5)(6, \"label\", 6);\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 8)(10, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function FacturaComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.factura.fecha = $event;\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(11, \"app-txt-persona\", 10, 11);\n        i0.ɵɵlistener(\"personaSeleccionada\", function FacturaComponent_Template_app_txt_persona_personaSeleccionada_11_listener($event) {\n          return ctx.clienteSeleccionado($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"app-txt-persona\", 12, 13);\n        i0.ɵɵlistener(\"personaSeleccionada\", function FacturaComponent_Template_app_txt_persona_personaSeleccionada_13_listener($event) {\n          return ctx.vendedorSeleccionado($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 4)(16, \"div\", 5)(17, \"label\", 6);\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 7)(20, \"div\", 8)(21, \"input\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function FacturaComponent_Template_input_ngModelChange_21_listener($event) {\n          return ctx.factura.porcentajeComision = $event;\n        })(\"blur\", function FacturaComponent_Template_input_blur_21_listener() {\n          return ctx.calcularTotales();\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(22, \"div\", 15)(23, \"div\", 16)(24, \"div\", 17)(25, \"input\", 18);\n        i0.ɵɵlistener(\"ngModelChange\", function FacturaComponent_Template_input_ngModelChange_25_listener($event) {\n          return ctx.detalleActual.cantidad = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"div\", 8)(27, \"app-select-productos\", 19, 20);\n        i0.ɵɵlistener(\"productoSeleccionado\", function FacturaComponent_Template_app_select_productos_productoSeleccionado_27_listener($event) {\n          return ctx.productoSeleccionado($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"div\", 21)(30, \"input\", 22);\n        i0.ɵɵlistener(\"ngModelChange\", function FacturaComponent_Template_input_ngModelChange_30_listener($event) {\n          return ctx.detalleActual.descripcion = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(31, \"div\", 17)(32, \"input\", 23);\n        i0.ɵɵlistener(\"ngModelChange\", function FacturaComponent_Template_input_ngModelChange_32_listener($event) {\n          return ctx.detalleActual.porcentajeIva = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(33, \"div\", 17)(34, \"input\", 24);\n        i0.ɵɵlistener(\"ngModelChange\", function FacturaComponent_Template_input_ngModelChange_34_listener($event) {\n          return ctx.detalleActual.porcentajeDescuento = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(35, \"div\", 25)(36, \"input\", 26);\n        i0.ɵɵlistener(\"ngModelChange\", function FacturaComponent_Template_input_ngModelChange_36_listener($event) {\n          return ctx.detalleActual.precioUnitario = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"div\", 8)(38, \"button\", 27);\n        i0.ɵɵlistener(\"click\", function FacturaComponent_Template_button_click_38_listener() {\n          return ctx.agregarDetalle();\n        })(\"keydown.enter\", function FacturaComponent_Template_button_keydown_enter_38_listener() {\n          return ctx.agregarDetalle();\n        });\n        i0.ɵɵelementStart(39, \"span\", 28);\n        i0.ɵɵelement(40, \"i\", 29);\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(41, \"div\", 30, 31)(43, \"table\", 32)(44, \"thead\")(45, \"tr\")(46, \"th\", 33);\n        i0.ɵɵtext(47);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"th\", 34);\n        i0.ɵɵtext(49);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"th\");\n        i0.ɵɵtext(51);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"th\", 35);\n        i0.ɵɵtext(53);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"th\", 35);\n        i0.ɵɵtext(55);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"th\", 35);\n        i0.ɵɵtext(57);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"th\", 35);\n        i0.ɵɵtext(59);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"th\", 33);\n        i0.ɵɵtext(61);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(62, \"tbody\");\n        i0.ɵɵtemplate(63, FacturaComponent_tr_63_Template, 19, 7, \"tr\", 36);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(64, \"br\");\n        i0.ɵɵelementStart(65, \"div\", 37)(66, \"div\", 8)(67, \"div\", 4)(68, \"div\", 5)(69, \"label\");\n        i0.ɵɵtext(70);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(71, \"div\", 7)(72, \"div\", 25)(73, \"input\", 38);\n        i0.ɵɵlistener(\"ngModelChange\", function FacturaComponent_Template_input_ngModelChange_73_listener($event) {\n          return ctx.factura.totalDescuento = $event;\n        });\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(74, \"div\", 37)(75, \"div\", 8)(76, \"div\", 4)(77, \"div\", 5)(78, \"label\");\n        i0.ɵɵtext(79);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(80, \"div\", 7)(81, \"div\", 25)(82, \"input\", 39);\n        i0.ɵɵlistener(\"ngModelChange\", function FacturaComponent_Template_input_ngModelChange_82_listener($event) {\n          return ctx.factura.totalIva = $event;\n        });\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(83, \"div\", 37)(84, \"div\", 8)(85, \"div\", 4)(86, \"div\", 5)(87, \"label\");\n        i0.ɵɵtext(88);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(89, \"div\", 7)(90, \"div\", 25)(91, \"input\", 40);\n        i0.ɵɵlistener(\"ngModelChange\", function FacturaComponent_Template_input_ngModelChange_91_listener($event) {\n          return ctx.factura.valorTotal = $event;\n        });\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(92, \"div\", 37)(93, \"div\", 8)(94, \"div\", 4)(95, \"div\", 5)(96, \"label\");\n        i0.ɵɵtext(97);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(98, \"div\", 7)(99, \"div\", 25)(100, \"input\", 41);\n        i0.ɵɵlistener(\"ngModelChange\", function FacturaComponent_Template_input_ngModelChange_100_listener($event) {\n          return ctx.factura.valorComision = $event;\n        });\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(101, \"div\", 37)(102, \"div\", 8)(103, \"button\", 42);\n        i0.ɵɵlistener(\"click\", function FacturaComponent_Template_button_click_103_listener() {\n          return ctx.anularFactura();\n        });\n        i0.ɵɵtext(104);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(105, \"div\", 8)(106, \"button\", 43);\n        i0.ɵɵlistener(\"click\", function FacturaComponent_Template_button_click_106_listener() {\n          return ctx.crear();\n        });\n        i0.ɵɵtext(107);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(108, \"div\", 8)(109, \"button\", 44);\n        i0.ɵɵlistener(\"click\", function FacturaComponent_Template_button_click_109_listener() {\n          return ctx.limpiarCampos();\n        });\n        i0.ɵɵelementStart(110, \"span\", 45);\n        i0.ɵɵelement(111, \"i\", 46);\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.labels.fecha);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.factura.fecha);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"labelPersona\", ctx.labels.cliente)(\"persona\", ctx.factura.cliente);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"labelPersona\", ctx.labels.vendedor)(\"tipoPersona\", ctx.tipoPersonaVendedor)(\"persona\", ctx.factura.vendedor);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", ctx.labels.comision, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.factura.porcentajeComision);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.labels.cantidad);\n        i0.ɵɵproperty(\"ngModel\", ctx.detalleActual.cantidad);\n        i0.ɵɵadvance(5);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.labels.detalle);\n        i0.ɵɵproperty(\"ngModel\", ctx.detalleActual.descripcion);\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.labels.iva);\n        i0.ɵɵproperty(\"ngModel\", ctx.detalleActual.porcentajeIva);\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.labels.descuento);\n        i0.ɵɵproperty(\"ngModel\", ctx.detalleActual.porcentajeDescuento);\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.labels.valorUnitario);\n        i0.ɵɵproperty(\"ngModel\", ctx.detalleActual.precioUnitario);\n        i0.ɵɵadvance(5);\n        i0.ɵɵstyleProp(\"height\", ctx.altoTablaDetalles, \"px\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.columnas.cantidad);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.columnas.referenciaProducto);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.columnas.descripcion);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.columnas.valorUnitario);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.columnas.iva);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.columnas.descuento);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.columnas.valorTotal);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.columnas.instalacion);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.factura.detalles);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.labels.totalDescuento);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.factura.totalDescuento);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.labels.totalIva);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.factura.totalIva);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.labels.totalFactura);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.factura.valorTotal);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.labels.valorComision);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.factura.valorComision);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", ctx.factura.id == 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.botones.anular, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.factura.id != 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.botones.guardar, \" \");\n      }\n    },\n    directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.TxtPersonaComponent, i3.NumberValueAccessor, i5.SelectProductosComponent, i6.NgForOf],\n    styles: [\"\"]\n  });\n  return FacturaComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}